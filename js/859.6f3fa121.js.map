{"version":3,"file":"js/859.6f3fa121.js","mappings":"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","sources":["webpack://eshop/./src/views/ProductsView.vue","webpack://eshop/./src/views/ProductsView.vue?91db"],"sourcesContent":["<template>\n  <Loading v-model:active=\"isLoading\" />\n  <Navbar />\n  <div class=\"container-fluid pt-utility auto-height\">\n    <div class=\"row auto-height-content\">\n      <div class=\"col-12 col-md-9 mx-auto p-0\">\n        <div class=\"position-relative\">\n          <img\n            src=\"@/assets/pic/banner/productBanner.png\"\n            class=\"w-100 productBanner\"\n            alt=\"全部商品圖片\"\n          />\n          <div\n            class=\"position-absolute top-50 translate-middle-y\"\n            style=\"right: 20%\">\n            <h2\n              class=\"text-3xl font-medium tracking-widest logo_font\">\n              healthy、simple、\n              <i class=\"bi bi-emoji-smile\" />\n            </h2>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-12 col-md-9 mx-auto p-0 d-flex\n        align-items-center justify-content-between\">\n        <div>\n          <i\n            class=\"bi bi-search d-inline-block px-2 fs-4 cursor-pointer\"\n            @click=\"search = !search;\"\n            @keypress=\"search = !search\" />\n          <label for=\"search\">\n            <input\n              type=\"text\"\n              name=\"search\"\n              v-model=\"message\"\n              :class=\"{'d-none': search}\"\n              class=\"carts-input w-100 border-0 border-bottom text-white\"\n            >\n          </label>\n        </div>\n        <div class=\"ps-3 px-md-0 d-flex flex-wrap justify-content-end align-items-center my-3\">\n          <label\n            for=\"sort\"\n            class=\"text-white tracking-wide font-medium\n            pe-2 pe-md-0 pb-md-1 d-inline-block\"\n            >顯示方法\n            <div\n              class=\"bg-white d-inline-block\"\n              style=\"max-width: 300px; border-radius: 5px\">\n              <select\n                name=\"sort\"\n                id=\"sort\"\n                class=\"text-black tracking-wide font-medium px-4 py-1 border-0\"\n                @change=\"onChange($event)\"\n              >\n                <option\n                  selected=\"selected\"\n                  disabled=\"disabled\"\n                  class=\"d-n\"\n                  value=\"\">\n                  選擇顯示方法\n                </option>\n                <option\n                  value=\"熱銷商品\">\n                  熱銷商品\n                </option>\n                <option\n                  value=\"價格排序低到高\">\n                  價格排序低到高\n                </option>\n                <option\n                  value=\"價格排序高到低\">\n                  價格排序高到低\n                </option>\n              </select>\n            </div>\n          </label>\n        </div>\n      </div>\n      <div\n        class=\"col-12 text-center pt-5\"\n        :class=\"{'d-none': productLoading}\">\n        <div class=\"spinner-border text-light spinner-border-3rem\" role=\"status\">\n          <span class=\"visually-hidden\">Loading...</span>\n        </div>\n      </div>\n      <div class=\"col-12 col-md-9 mx-auto\">\n        <div class=\"row\">\n          <div\n            class=\"col-6 col-md-6 col-lg-4 col-xl-3 mb-5\"\n            v-for=\"item in updateProducts\"\n            :key=\"item.id\"\n          >\n            <div\n              class=\"text-white product-content-container mx-auto cursor-pointer position-relative\"\n              @click=\"more(item.id)\"\n              @keydown=\"more(item.id)\"\n            >\n              <span\n                class=\"badge bg-danger position-absolute badge-position\"\n                v-if=\"item.num <= 5 && item.num >= 1\">HOT</span\n              >\n              <span\n                class=\"badge bg-dark opacity-50 position-absolute badge-position\"\n                v-else-if=\"item.num === 0\">SOLD OUT</span\n              >\n              <div class=\"product-item position-relative\">\n                <img\n                  :src=\"item.imageUrl\"\n                  class=\"position-relative w-100 h-100 product-img\"\n                  alt=\"商品圖片\"\n                />\n                <div class=\"w-100 productNotes-container position-absolute bottom-0 start-50\">\n                  <i\n                    class=\"productNotes-icon d-block bi bi-info-square\n                    text-4xl position-relative top-50 start-50 text-center\"\n                  />\n                </div>\n                <div\n                  class=\"fav position-absolute end-0 top-0\"\n                  @click.stop=\"addFav(item)\"\n                  @keydown=\"addFav(item)\"\n                >\n                  <i\n                    class=\"bi fs-1 mx-2\"\n                    :class=\"favoriteData.includes(item.id) ? 'bi-heart-fill' : 'bi-heart'\"\n                  />\n                </div>\n              </div>\n              <div class=\"product-content pt-1\">\n                <h5 class=\"product-content-h5 text-base font-medium tracking-wide\">\n                  {{ item.title }}\n                </h5>\n                <div class=\"d-block d-md-flex justify-content-md-between\">\n                  <p>\n                    <del>{{ item.origin_price }}$</del>/\n                    <span class=\"product-p\">優惠價{{ item.price }}$</span>\n                  </p>\n                </div>\n                <div\n                  v-if=\"item.num >= 1\"\n                  :class=\"{'opacity-75': isLoading}\"\n                  @click.stop=\"addCart(item, $event)\"\n                  @keydown=\"addCart(item, $event)\"\n                  :disabled=\"isLoading\"\n                  class=\"w-btn-product mt-2 w-100\"\n                >\n                  <div class=\"d-none spinner-border spinner-border-sm\" role=\"status\" />\n                  加入購物車\n                </div>\n                <div v-else class=\"w-btn-product w-100 mt-2 opacity-50\">已售完</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <RouterLink\n    to=\"/user/contact\"\n    class=\"position-fixed text-center\n    end-0 bottom-0 cursor-pointer m-3 border chat-container\"\n    :class=\"{'translateY-70px': !scrollIcon}\">\n    <i class=\"bi bi-chat-dots-fill chat-icon\" />\n  </RouterLink>\n  <div\n    :class=\"{'scrollIconMoveIn': !scrollIcon}\"\n    ref=\"scrollTop\"\n    class=\"scrollTop-container position-fixed text-center end-0 bottom-0 cursor-pointer m-3\"\n  >\n  <div\n    @click.prevent=\"scrollToTop\"\n    @keydown=\"scrollToTop\"\n    class=\"scrollTop-btn d-block\" />\n  </div>\n  <Footer />\n</template>\n\n<script>\nimport Navbar from '@/components/FrontNavbar.vue';\nimport Footer from '@/components/FrontFooter.vue';\nimport Loading from '@/components/IsLoading.vue';\nimport 'sweetalert2/src/sweetalert2.scss';\nimport emitter from '@/methods/emitter';\nimport scrollMixins from '../mixins/scroll';\n\nconst Swal = require('sweetalert2');\n\nexport default {\n  data() {\n    return {\n      products: {},\n      carts: {},\n      changeProducts: [],\n      favoriteData: [],\n      history: [],\n      productLoading: true,\n      isLoading: false,\n      search: true,\n      cartsNum: 0,\n      clickName: '',\n      message: '',\n    };\n  },\n  components: {\n    Navbar, Footer, Loading,\n  },\n  mixins: [scrollMixins],\n  methods: {\n    getData() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\n      this.productLoading = false;\n      this.axios\n        .get(api)\n        .then((response) => {\n          this.productLoading = true;\n          this.products = response.data.products;\n          this.changeProducts = response.data.products;\n        })\n        .catch(() => {\n          const Toast = Swal.mixin({\n            toast: true,\n            position: 'top-end',\n            showConfirmButton: false,\n            timer: 3000,\n            timerProgressBar: true,\n            didOpen: (toast) => {\n              toast.addEventListener('mouseenter', Swal.stopTimer);\n              toast.addEventListener('mouseleave', Swal.resumeTimer);\n            },\n          });\n          Toast.fire({\n            icon: 'error',\n            title: '連線異常',\n          });\n        });\n    },\n    addCart(item, e) {\n      e.target.childNodes[0].classList.remove('d-none');\n      const data = {\n        product_id: item.id,\n        qty: 1,\n      };\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.isLoading = true;\n      this.axios\n        .post(api, { data })\n        .then(() => {\n          this.isLoading = false;\n          e.target.childNodes[0].classList.add('d-none');\n          const Toast = Swal.mixin({\n            toast: true,\n            position: 'top-end',\n            showConfirmButton: false,\n            timer: 3000,\n            timerProgressBar: true,\n            didOpen: (toast) => {\n              toast.addEventListener('mouseenter', Swal.stopTimer);\n              toast.addEventListener('mouseleave', Swal.resumeTimer);\n            },\n          });\n          Toast.fire({\n            icon: 'success',\n            title: '成功加入購物車',\n          });\n        })\n        .catch(() => {\n          const Toast = Swal.mixin({\n            toast: true,\n            position: 'top-end',\n            showConfirmButton: false,\n            timer: 3000,\n            timerProgressBar: true,\n            didOpen: (toast) => {\n              toast.addEventListener('mouseenter', Swal.stopTimer);\n              toast.addEventListener('mouseleave', Swal.resumeTimer);\n            },\n          });\n          Toast.fire({\n            icon: 'error',\n            title: '加入購物車失敗',\n          });\n        });\n      this.renderCarts();\n      emitter.emit('updateCartsNum');\n    },\n    addFav(item) {\n      if (this.favoriteData.includes(item.id)) {\n        this.favoriteData.splice(this.favoriteData.indexOf(item.id), 1);\n        const Toast = Swal.mixin({\n          toast: true,\n          position: 'top-end',\n          showConfirmButton: false,\n          timer: 3000,\n          timerProgressBar: true,\n          didOpen: (toast) => {\n            toast.addEventListener('mouseenter', Swal.stopTimer);\n            toast.addEventListener('mouseleave', Swal.resumeTimer);\n          },\n        });\n        Toast.fire({\n          icon: 'success',\n          title: '成功移除收藏',\n        });\n      } else {\n        this.favoriteData.push(item.id);\n        const Toast = Swal.mixin({\n          toast: true,\n          position: 'top-end',\n          showConfirmButton: false,\n          timer: 3000,\n          timerProgressBar: true,\n          didOpen: (toast) => {\n            toast.addEventListener('mouseenter', Swal.stopTimer);\n            toast.addEventListener('mouseleave', Swal.resumeTimer);\n          },\n        });\n        Toast.fire({\n          icon: 'success',\n          title: '成功加入收藏',\n        });\n      }\n      localStorage.setItem('fav', JSON.stringify(this.favoriteData));\n      emitter.emit('updateNum');\n    },\n    more(id) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${id}`;\n      this.axios\n        .get(api)\n        .then(() => {\n          this.$router.push(`/user/product/${id}`);\n        })\n        .catch(() => {\n          const Toast = Swal.mixin({\n            toast: true,\n            position: 'top-end',\n            showConfirmButton: false,\n            timer: 3000,\n            timerProgressBar: true,\n            didOpen: (toast) => {\n              toast.addEventListener('mouseenter', Swal.stopTimer);\n              toast.addEventListener('mouseleave', Swal.resumeTimer);\n            },\n          });\n          Toast.fire({\n            icon: 'error',\n            title: '連線異常',\n          });\n        });\n      this.productHistory(id);\n    },\n    renderCarts() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.axios\n        .get(api)\n        .then((response) => {\n          this.carts = response.data.data.carts;\n        })\n        .catch(() => {\n          const Toast = Swal.mixin({\n            toast: true,\n            position: 'top-end',\n            showConfirmButton: false,\n            timer: 3000,\n            timerProgressBar: true,\n            didOpen: (toast) => {\n              toast.addEventListener('mouseenter', Swal.stopTimer);\n              toast.addEventListener('mouseleave', Swal.resumeTimer);\n            },\n          });\n          Toast.fire({\n            icon: 'error',\n            title: '連線異常',\n          });\n        });\n    },\n    productHistory(id) {\n      this.history.push(id);\n      this.history = localStorage.setItem('setHistory', JSON.stringify(this.history));\n    },\n    updateFav() {\n      this.favoriteData = JSON.parse(localStorage.getItem('fav')) || [];\n    },\n    onChange(e) {\n      const { value } = e.target;\n      this.clickName = value;\n    },\n    searchProducts() {\n      if (this.message !== '') {\n        const keyword = this.message.trim();\n        const targetProduct = this.products.filter((item) => item.title.match(keyword));\n        this.products = targetProduct;\n      } else {\n        this.products = this.changeProducts;\n      }\n    },\n  },\n  watch: {\n    cartsNum: {\n      handler() {\n        this.renderCarts();\n      },\n      immediate: true,\n    },\n    message: {\n      handler() {\n        this.searchProducts();\n      },\n      immediate: true,\n    },\n  },\n  computed: {\n    updateProducts() {\n      let arr = [];\n      arr = this.products;\n      if (this.clickName === '價格排序低到高') {\n        arr.sort((a, b) => a.price - b.price);\n      } else if (this.clickName === '價格排序高到低') {\n        arr.sort((a, b) => b.price - a.price);\n      } else if (this.clickName === '熱銷商品') {\n        arr.sort((a, b) => a.num - b.num);\n      }\n      return arr;\n    },\n  },\n  mounted() {\n    this.getData();\n    this.updateFav();\n  },\n};\n</script>\n","import { render } from \"./ProductsView.vue?vue&type=template&id=6aff2ae2\"\nimport script from \"./ProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/zhaoshijia/Desktop/Shop_dessert/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","for","style","_createElementVNode","selected","disabled","value","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","role","_hoisted_14","_createVNode","_component_Loading","active","$data","_component_Navbar","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","onClick","onKeypress","_hoisted_5","type","name","_hoisted_6","_hoisted_7","_hoisted_8","id","onChange","$options","$event","_hoisted_16","_hoisted_17","_createElementBlock","_Fragment","item","key","onKeydown","num","_hoisted_19","_hoisted_20","_hoisted_21","src","imageUrl","alt","_hoisted_23","includes","_hoisted_25","_hoisted_26","title","_hoisted_27","origin_price","_hoisted_28","price","_hoisted_30","_hoisted_31","_component_RouterLink","to","_ctx","_hoisted_32","ref","_component_Footer","Swal","require","data","products","carts","changeProducts","favoriteData","history","productLoading","isLoading","search","cartsNum","clickName","message","components","Navbar","Footer","Loading","mixins","scrollMixins","methods","getData","api","this","axios","get","then","response","catch","Toast","mixin","toast","position","showConfirmButton","timer","timerProgressBar","didOpen","addEventListener","stopTimer","resumeTimer","fire","icon","addCart","e","target","childNodes","classList","remove","product_id","qty","post","add","renderCarts","emitter","addFav","splice","indexOf","push","localStorage","setItem","JSON","stringify","more","$router","productHistory","updateFav","parse","getItem","searchProducts","keyword","trim","targetProduct","filter","match","watch","handler","immediate","computed","updateProducts","arr","sort","a","b","mounted","__exports__","render"],"sourceRoot":""}