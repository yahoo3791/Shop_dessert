"use strict";(self["webpackChunkeshop"]=self["webpackChunkeshop"]||[]).push([[522],{5522:function(t,e,i){i.r(e),i.d(e,{default:function(){return pt}});var s=i(6252),o=i(3577),n=i(9963);const r={class:"bg-dark pt-5 auto-height"},a={class:"auto-height-content"},d={class:"container pt-5"},c={class:"row pb-5"},l={class:"col-12"},u={"aria-label":"breadcrumb"},m={class:"breadcrumb py-2 px-1 p-md-2 breadcrumb-style tracking-normal"},p={class:"breadcrumb-item"},h={class:"breadcrumb-item breadcrumb-item-none"},v=(0,s._)("li",{class:"breadcrumb-item breadcrumb-item-none"}," 內容 ",-1),g=(0,s._)("div",{class:"spinner-border text-light spinner-border-3rem",role:"status"},[(0,s._)("span",{class:"visually-hidden"},"Loading...")],-1),b=[g],w={class:"row justify-content-center align-items-center"},f={class:"col-12 col-md-4"},_=["src"],x=(0,s._)("div",{class:"position-absolute swiper-bg top-0"},null,-1),y={class:"col-12 col-md-5 offset-md-1 d-flex flex-column justify-content-between"},k={class:"text-2xl font-bold tracking-wider my-4 mb-md-4 text-white"},L={key:0,class:"badge bg-danger"},C={key:1,class:"badge bg-secondary opacity-50"},D={class:"p-01"},B={class:"mt-5 text-indent2rem"},E=(0,s._)("h5",{class:"mt-5"},"成份:",-1),O=(0,s._)("h5",{class:"mt-5"},"尺寸:",-1),T={class:"productUnitBtn"},U={class:"productmore-item py-5"},P={class:"d-flex align-items-center"},S={class:"text-white"},z={class:"productmore-price d-inline-block ps-2"},I={class:"font-semibold text-2xl text-red"},$={class:"d-flex align-items-center justify-content-between mt-2"},F={class:"numInput-item d-flex justify-content-end align-items-center"},K={class:"counter border"},N={for:"num",class:"d-block h-100"},A={class:"d-inline-block ms-auto text-white text-decoration-none",ref:"shareFb",href:"#",target:"_blank"},j=(0,s._)("i",{class:"bi bi-facebook fs-4"},null,-1),W=["disabled"],Z={key:1,class:"w-btn-product opacity-50"},H=(0,s.uE)('<div class="line"></div><div class="col-12 col-md-9 mx-auto"><div class="mb-5"><h4 class="pb-2 tracking-wide font-medium text-xl border-bottom-404040"> 保存方式 </h4><p>-最佳賞味期限-</p><p>可冷藏保存1週，冷凍保存2週。請見商品標示日期。</p><p>建議放入冷藏前請將蛋糕用保鮮盒密封好，再存放食用前於室溫回溫20-30分鐘風味更佳！開封後請儘速食用完畢。</p><p class="mt-3">餅乾：常溫密封約可保存2週，冷凍密封約可保存2-3個月，回溫即可食用。</p><p>蛋糕：放置冷藏約可保存5天。</p><p>慕斯：密封冷藏約可保存2-3天，密封冷凍約可保存7-10天，回溫即可食用。</p></div></div>',2),J={key:0,class:"container"},M={class:"row justify-content-center"},q={class:"col-12 col-md-9 py-5 my-5 text-white"},V=(0,s._)("h4",{class:"pb-2 tracking-wide font-medium text-xl border-bottom-404040"}," 您可能喜歡這些... ",-1),Y=["onClick","onKeydown"],R=["src"],G={class:"product-content-h5 text-base font-medium tracking-wide py-2"},Q={class:"product-content"},X={class:"product-p"},tt=["disabled","onClick","onKeydown"],et=(0,s._)("div",{class:"d-none spinner-border spinner-border-sm",role:"status"},null,-1),it={key:1,class:"w-btn-product mt-2 opacity-50"};function st(t,e,i,g,st,ot){const nt=(0,s.up)("Loading"),rt=(0,s.up)("Navbar"),at=(0,s.up)("RouterLink"),dt=(0,s.up)("swiper-slide"),ct=(0,s.up)("swiper-container"),lt=(0,s.up)("Footer");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(nt,{active:st.isLoading,"onUpdate:active":e[0]||(e[0]=t=>st.isLoading=t)},null,8,["active"]),(0,s.Wm)(rt),(0,s._)("div",r,[(0,s._)("div",a,[(0,s._)("div",d,[(0,s._)("div",c,[(0,s._)("div",l,[(0,s._)("nav",u,[(0,s._)("ol",m,[(0,s._)("li",p,[(0,s.Wm)(at,{to:"/",class:"text-white text-decoration-none"},{default:(0,s.w5)((()=>[(0,s.Uk)(" 首頁 ")])),_:1})]),(0,s._)("li",h,[(0,s.Wm)(at,{to:"/user/products",class:"text-white text-decoration-none"},{default:(0,s.w5)((()=>[(0,s.Uk)(" 商品列表 ")])),_:1})]),v])])]),(0,s._)("div",{class:(0,o.C_)(["col-12 text-center pt-5",{"d-none":st.productLoading}])},b,2)])]),(0,s._)("div",{class:(0,o.C_)(["container",{"d-none":!st.productLoading}])},[(0,s._)("div",w,[(0,s._)("div",f,[(0,s._)("img",{src:st.product.imageUrl,class:"w-100 h-100",alt:"productImage"},null,8,_),x]),(0,s._)("div",y,[(0,s._)("div",null,[(0,s._)("div",null,[(0,s._)("h1",k,[st.product.num<=5&&st.product.num>=1?((0,s.wg)(),(0,s.iD)("span",L,"HOT ")):0===st.product.num?((0,s.wg)(),(0,s.iD)("span",C,"SOLD OUT ")):(0,s.kq)("",!0),(0,s.Uk)(" "+(0,o.zw)(st.product.title),1)])]),(0,s._)("div",D,[(0,s._)("p",B,(0,o.zw)(st.product.content),1),E,(0,s._)("p",null,(0,o.zw)(st.product.description),1),O,(0,s._)("div",T,(0,o.zw)(st.product.unit),1)])]),(0,s._)("div",U,[(0,s._)("div",P,[(0,s._)("del",S,"原價"+(0,o.zw)(st.product.origin_price)+"$",1),(0,s._)("div",z,[(0,s._)("p",I,"優惠價"+(0,o.zw)(st.product.price)+"$",1)])]),(0,s._)("div",$,[(0,s._)("div",F,[(0,s._)("div",{onClick:e[1]||(e[1]=(...t)=>ot.min&&ot.min(...t)),onKeypress:e[2]||(e[2]=(...t)=>ot.min&&ot.min(...t)),class:"cursor-pointer numInput-prev text-center"}," - ",32),(0,s._)("div",K,[(0,s._)("label",N,[(0,s.wy)((0,s._)("input",{id:"num",name:"num","onUpdate:modelValue":e[3]||(e[3]=t=>st.num=t),type:"text",min:"1",class:"d-block rounded-0 bg-dark border-0 text-center text-white h-100"},null,512),[[n.nr,st.num]])])]),(0,s._)("div",{onClick:e[4]||(e[4]=(...t)=>ot.add&&ot.add(...t)),onKeydown:e[5]||(e[5]=(...t)=>ot.add&&ot.add(...t)),class:"cursor-pointer numInput-next text-center"}," + ",32)]),(0,s._)("a",A,[j,(0,s.Uk)(" 分享 ")],512),(0,s._)("div",{class:"fav text-red ms-auto me-3 cursor-pointer",onClick:e[6]||(e[6]=(0,n.iM)((t=>ot.addFav(st.product)),["stop"])),onKeydown:e[7]||(e[7]=t=>ot.addFav(st.product))},[(0,s._)("i",{class:(0,o.C_)(["bi mx-2 fs-1",st.favoriteData.includes(st.product.id)?"bi-heart-fill":"bi-heart"])},null,2)],32),st.product.num>=1?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,o.C_)([{"opacity-75":!0===st.isLoading},"w-btn-product cursor-pointer"]),onClick:e[9]||(e[9]=t=>ot.addCart(st.product.id,t)),onKeydown:e[10]||(e[10]=e=>ot.addCart(t.item,e)),disabled:!0===st.isLoading},[(0,s._)("div",{onClick:e[8]||(e[8]=(0,n.iM)((()=>{}),["stop"])),class:"d-none spinner-border spinner-border-sm",role:"status"}),(0,s.Uk)(" 加入購物車 ")],42,W)):((0,s.wg)(),(0,s.iD)("div",Z,"已售完"))])])]),H])],2),0!==st.sameProduct.length?((0,s.wg)(),(0,s.iD)("div",J,[(0,s._)("div",M,[(0,s._)("div",q,[V,(0,s.Wm)(ct,{class:"mySwiper",slidesPerView:2,centeredSlides:!1,spaceBetween:30,navigation:!0,autoplay:{delay:2500,disableOnInteraction:!1}},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(st.sameProduct,(t=>((0,s.wg)(),(0,s.j4)(dt,{key:t.id,class:"py-5"},{default:(0,s.w5)((()=>[(0,s._)("div",{class:"mx-auto product-content-container cursor-pointer",onClick:(0,n.iM)((e=>ot.more(t.id)),["stop"]),onKeydown:e=>ot.more(t.id)},[(0,s._)("img",{src:t.imageUrl,class:"w-100",alt:"您可能喜歡的圖片"},null,8,R),(0,s._)("h5",G,(0,o.zw)(t.title),1),(0,s._)("p",Q,[(0,s._)("del",null,(0,o.zw)(t.origin_price)+"$",1),(0,s.Uk)("/ "),(0,s._)("span",X,"優惠價"+(0,o.zw)(t.price)+"$",1)]),t.num>=1?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,o.C_)([{"opacity-75":!0===st.isLoading},"mt-2 w-btn-product"]),disabled:!0===st.isLoading,onClick:(0,n.iM)((e=>ot.addCart(t.id,e)),["stop"]),onKeydown:e=>ot.addCart(t.id,e)},[et,(0,s.Uk)(" 加入購物車 ")],42,tt)):((0,s.wg)(),(0,s.iD)("div",it,"已售完"))],40,Y)])),_:2},1024)))),128))])),_:1})])])])):(0,s.kq)("",!0)])]),(0,s.Wm)(lt)],64)}i(7658);var ot=i(8549),nt=i(358),rt=i(5790),at=i(2336),dt=i(5820);const ct=i(6455);(0,ot.z2)();var lt={data(){return{productAll:{},product:{},favoriteData:[],sameProduct:[],isLoading:!1,productLoading:!0,num:1}},components:{Loading:at.Z,Navbar:nt.Z,Footer:rt.Z},methods:{getData(){const t=this.$route.params.productId;this.productLoading=!1;const e=`https://vue3-course-api.hexschool.io/api/dessertsweet/product/${t}`;this.axios.get(e).then((t=>{this.productLoading=!0,this.product=t.data.product})).catch((()=>{const t=ct.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:t=>{t.addEventListener("mouseenter",ct.stopTimer),t.addEventListener("mouseleave",ct.resumeTimer)}});t.fire({icon:"error",title:"連線異常"})}))},addCart(t,e){if(e.target.children[0].classList.remove("d-none"),this.num<=0||this.num>=50){e.target.children[0].classList.add("d-none");const t=ct.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:t=>{t.addEventListener("mouseenter",ct.stopTimer),t.addEventListener("mouseleave",ct.resumeTimer)}});t.fire({icon:"warning",title:"請輸入正確數字:等於1小於51"}),this.num=1}const i={product_id:t,qty:Number(this.num)},s="https://vue3-course-api.hexschool.io/api/dessertsweet/cart";this.isLoading=!0,this.axios.post(s,{data:i}).then((()=>{this.isLoading=!1,e.target.children[0].classList.add("d-none"),dt.Z.emit("updateCartsNum");const t=ct.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:t=>{t.addEventListener("mouseenter",ct.stopTimer),t.addEventListener("mouseleave",ct.resumeTimer)}});t.fire({icon:"success",title:"成功加入購物車"}),this.num=1})).catch((()=>{const t=ct.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:t=>{t.addEventListener("mouseenter",ct.stopTimer),t.addEventListener("mouseleave",ct.resumeTimer)}});t.fire({icon:"error",title:"加入購物車失敗"})}))},add(){this.num+=1,this.num>=50&&(this.num=50)},min(){this.num-=1,this.num<=0&&(this.num=1)},getDataAll(){const t="https://vue3-course-api.hexschool.io/api/dessertsweet/products/all";this.axios.get(t).then((t=>{this.productAll=t.data.products,this.updateData()})).catch((()=>{const t=ct.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:t=>{t.addEventListener("mouseenter",ct.stopTimer),t.addEventListener("mouseleave",ct.resumeTimer)}});t.fire({icon:"error",title:"連線異常"})}))},updateData(){const t=JSON.parse(localStorage.getItem("setHistory"))||[];if(0===t.length)return;const e=this.productAll.filter((e=>e.id===t[0])),i=this.productAll.filter((e=>e.id!==t[0]));i.forEach((t=>{e[0].category===t.category&&this.sameProduct.push(t)}))},more(t){this.$router.replace(`/user/product/${t}`),localStorage.setItem("setHistory",JSON.stringify([t]))},addFav(t){if(this.favoriteData.includes(t.id)){this.favoriteData.splice(this.favoriteData.indexOf(t.id),1);const e=ct.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:t=>{t.addEventListener("mouseenter",ct.stopTimer),t.addEventListener("mouseleave",ct.resumeTimer)}});e.fire({icon:"success",title:"成功移除收藏"})}else{this.favoriteData.push(t.id);const e=ct.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:t=>{t.addEventListener("mouseenter",ct.stopTimer),t.addEventListener("mouseleave",ct.resumeTimer)}});e.fire({icon:"success",title:"成功加入收藏"})}localStorage.setItem("fav",JSON.stringify(this.favoriteData)),dt.Z.emit("updateNum")},updateFav(){this.favoriteData=JSON.parse(localStorage.getItem("fav"))||[]}},mounted(){this.getData(),this.getDataAll(),this.updateFav();const t=`https://www.facebook.com/sharer.php?u=${window.location.href}`;this.$refs.shareFb.setAttribute("href",t)}},ut=i(3744);const mt=(0,ut.Z)(lt,[["render",st]]);var pt=mt}}]);
//# sourceMappingURL=522.6da447a8.js.map