"use strict";(self["webpackChunkeshop"]=self["webpackChunkeshop"]||[]).push([[196],{5196:function(t,s,e){e.r(s),e.d(s,{default:function(){return G}});e(7658);var a=e(6252),i=e(3577);const r={class:"bg-dark auto-height"},o=(0,a._)("div",{class:"container"},[(0,a._)("div",{class:"row pb-5",style:{"padding-top":"20vh"}},[(0,a._)("div",{class:"col-12 d-flex justify-content-around pb-2"},[(0,a._)("div",{class:"p-01"}," 1.確認商品並填寫資料 "),(0,a._)("div",{class:"p-01"}," 2.完成訂單 ")]),(0,a._)("div",{class:"col-12"},[(0,a._)("div",{class:"progress"},[(0,a._)("div",{class:"progress-bar progress-bar-striped progress-bar-animated w-100",role:"progressbar","aria-valuenow":"75","aria-valuemin":"0","aria-valuemax":"100"})])])]),(0,a._)("div",{class:"row"},[(0,a._)("div",{class:"col-12 text-white text-center",style:{"padding-top":"10vh"}},[(0,a._)("h1",{class:"tracking-widest font-bold"},"付款成功! 感謝您的惠顧"),(0,a._)("p",null,"以下是您的訂單資訊")])])],-1),l={class:"container text-white auto-height-content"},c={class:"row"},d={class:"col-10 col-md-6 mx-auto"},n=(0,a._)("h3",{class:"tracking-widest font-bold text-3xl pb-3 mt-5 border-bottom-404040"}," 訂購人資訊 ",-1),p={class:"row"},u={class:"col-12 text-white mb-5 d-flex"},h=(0,a.uE)('<div class="tracking-widest text-lg"><p class="py-1">聯絡人姓名</p><p class="py-1">聯絡人信箱</p><p class="py-1">聯絡人手機</p><p class="py-1">收件人地址</p></div>',1),g={class:"ps-3 tracking-widest text-lg"},b={class:"py-1"},w={class:"py-1"},_={class:"py-1"},m={class:"py-1"},v={class:"row"},x=(0,a._)("h3",{class:"pb-3 mt-3 tracking-widest font-bold text-3xl border-bottom-404040"}," 商品資訊 ",-1),y={class:"col-12 text-white mb-5"},k=["src"],f={class:"text-sm d-flex flex-column justify-content-between ps-3"},D={class:"text-2xl"},L={class:"leading-7 tracking-wider text-lg"},z=(0,a._)("i",{class:"bi bi-x"},null,-1),$={class:"leading-7 d-block tracking-wider text-xl"},C=(0,a._)("i",{class:"bi bi-currency-dollar"},null,-1),I={class:"row"},O=(0,a._)("h3",{class:"pb-3 mt-3 tracking-widest font-bold text-3xl border-bottom-404040"}," 付款資訊 ",-1),U={class:"col-12 tracking-widest text-lg"},Z={key:0},B=(0,a._)("p",{class:"py-1"}," 訂單編號: ",-1),E=(0,a._)("p",null,"(查詢訂單時輸入此編號)",-1),W={class:"py-1"},j={key:1,class:"py-1"},q={key:2,class:"py-1"},F={class:"col-12 pt-2 pb-5 text-end my-5"};function H(t,s,e,H,N,T){const Y=(0,a.up)("Loading"),K=(0,a.up)("Navbar"),M=(0,a.up)("Footer");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(Y,{active:N.isLoading,"onUpdate:active":s[0]||(s[0]=t=>N.isLoading=t)},null,8,["active"]),(0,a.Wm)(K),(0,a._)("div",r,[o,(0,a._)("div",l,[(0,a._)("div",c,[(0,a._)("div",d,[n,(0,a._)("div",p,[(0,a._)("div",u,[h,(0,a._)("div",g,[(0,a._)("p",b,(0,i.zw)(N.userData.name),1),(0,a._)("p",w,(0,i.zw)(N.userData.email),1),(0,a._)("p",_,(0,i.zw)(N.userData.tel),1),(0,a._)("p",m,(0,i.zw)(N.userData.address),1)])])]),(0,a._)("div",v,[x,(0,a._)("div",y,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(N.details.products,(t=>((0,a.wg)(),(0,a.iD)("div",{class:"payCart-item border-bottom d-flex py-3",key:t.id},[(0,a._)("img",{src:t.product.imageUrl,class:"d-block",style:{"max-width":"100px"},alt:"cartImage"},null,8,k),(0,a._)("div",f,[(0,a._)("p",D,(0,i.zw)(t.product.title),1),(0,a._)("p",L,[z,(0,a.Uk)((0,i.zw)(t.qty),1)]),(0,a._)("p",$,[(0,a.Uk)((0,i.zw)(t.total),1),C])])])))),128))])]),(0,a._)("div",I,[O,(0,a._)("div",U,[N.details.create_at?((0,a.wg)(),(0,a.iD)("p",Z," 訂單成立成功 ")):(0,a.kq)("",!0),B,(0,a._)("p",null,(0,i.zw)(t.$route.params.orderId),1),E,(0,a._)("p",W,"總金額"+(0,i.zw)(Math.round(t.$filters.currency(N.details.total)))+"$ ",1),!0===N.details.is_paid?((0,a.wg)(),(0,a.iD)("p",j," 付款完成 ")):((0,a.wg)(),(0,a.iD)("p",q," 尚未付款 "))])]),(0,a._)("div",F,[(0,a._)("button",{type:"button",class:"btn btn-light fw-bold me-2",onClick:s[1]||(s[1]=s=>t.$router.push("/user/checkOrder"))}," 查詢訂單 "),(0,a._)("button",{type:"button",class:"btn btn-light fw-bold",onClick:s[2]||(s[2]=s=>t.$router.push("/user/products"))}," 繼續購物 ")])])])])]),(0,a.Wm)(M)],64)}var N=e(358),T=e(5790),Y=e(2336);const K=e(6455);var M={data(){return{details:{},userData:{},isLoading:!1}},components:{Navbar:N.Z,Footer:T.Z,Loading:Y.Z},methods:{payOrder(){const{orderId:t}=this.$route.params,s=`https://vue3-course-api.hexschool.io/api/dessertsweet/pay/${t}`;this.isLoading=!0,this.axios.post(s).then((()=>{this.isLoading=!1,K.fire({position:"center",icon:"success",title:"付款成功",showConfirmButton:!1,timer:1500}),this.render()})).catch((()=>{K.fire({position:"center",icon:"error",title:"付款失敗",text:"請聯絡我們客服人員"})}))},render(){const{orderId:t}=this.$route.params,s=`https://vue3-course-api.hexschool.io/api/dessertsweet/order/${t}`;this.isLoading=!0,this.axios.get(s).then((t=>{this.isLoading=!1,this.details=t.data.order,this.userData=t.data.order.user})).catch((()=>{const t=K.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:t=>{t.addEventListener("mouseenter",K.stopTimer),t.addEventListener("mouseleave",K.resumeTimer)}});t.fire({icon:"error",title:"連線異常"})}))}},mounted(){this.render(),this.payOrder()}},P=e(3744);const A=(0,P.Z)(M,[["render",H]]);var G=A}}]);
//# sourceMappingURL=196.364fcb8b.js.map